{% extends "layout.html" %}

{% block title %}
    Database
{% endblock %}

{% block main %}

<table class="table table-striped table-hover">
    <thead>
        
        <tr>
            <form id="newrowform">
            <td>
                <select class="form-select" aria-label="type name selection" id="typename">
                    {% for type in types %}
                        <option value="{{ type.typename }}">{{ type.typename }}</option>
                    {% endfor %}
                  </select>
            </td>
            <td>
                <input type="text" class="form-control" placeholder="Emoji" id="emoji" autocomplete="off">
            </td>
            <td>
                <input type="text" class="form-control" placeholder="Name" id="name" autocomplete="off">
            </td>
            <td>
                <input type="text" class="form-control" placeholder="Instagram" id="instagram" autocomplete="off">
            </td>
            <td>
                <input class="form-check-input" type="checkbox" id="threads" aria-label="threadsCheckbox" autocomplete="off">
            </td>
            <td>
                <input type="text" class="form-control" placeholder="Facebook" id="facebook" autocomplete="off">
            </td>
            <td>
                <input type="text" class="form-control" placeholder="X" id="x" autocomplete="off">
            </td>
            <td>
                <input type="text" class="form-control" Placeholder="Hashtags" id="hashtags" autocomplete="off">
            </td>
            <td>
                <button type="button" class="btn btn-primary" id="addrow">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-square" viewBox="0 0 16 16">
                    <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"></path>
                    <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"></path>
                    </svg>
                </button>
            </td>
        </form>
          </tr>
        
      <tr>
        <th scope="col">Type</th>
        <th scope="col">Emoji</th>
        <th scope="col">Name</th>
        <th scope="col">Instagram</th>
        <th scope="col">Threads</th>
        <th scope="col">Facebook</th>
        <th scope="col">X</th>
        <th scope="col">Hashtags</th>
        <th></th>
      </tr>
    </thead>
    <tbody id="maintable">
        {% for row in rows %}
        <tr>
            <td>
                <select class="form-select submit" aria-label="type name selection" id="typename_{{ row.id }}">
                    <!--<option value="{{ row.typename }}" selected>{{ row.typename }}</option>-->
                    {% for type in types %}
                        <option value="{{ type.typename }}" {% if type.typename == row.typename %}selected{% endif %}>{{ type.typename }}</option>
                    {% endfor %}
                  </select>
            </td>
            <td class="edit">
                <span class="editvalue">{{ row.emoji }}</span>
                <input type="text" class="form-control textedit" value="{{ row.emoji }}" id="emoji_{{ row.id }}">
            </td>
            <td class="edit">
                <span class="editvalue">{{ row.name }}</span>
                <input type="text" class="form-control textedit" value="{{ row.name }}" id="name_{{ row.id }}">
            </td>
            <td class="edit">
                <span class="prefix">@</span><span class="editvalue">{{ row.instagram }}</span>
                <input type="text" class="form-control textedit" value="{{ row.instagram }}" id="instagram_{{ row.id }}">
            </td>
            <td>
                <input class="form-check-input threadsbutton" type="checkbox" id="threads_{{ row.id }}" value="{{ row.threads }}" aria-label="threadsCheckbox" {% if row.threads == 1 %}checked{% endif %}>
            </td>
            <td class="edit">
                <span class="prefix">@</span><span class="editvalue">{{ row.facebook }}</span>
                <input type="text" class="form-control textedit" value="{{ row.facebook }}" id="facebook_{{ row.id }}">
            </td>
            <td class="edit">
                <span class="prefix">@</span><span class="editvalue">{{ row.x }}</span>
                <input type="text" class="form-control textedit" value="{{ row.x }}" id="x_{{ row.id }}">
            </td>
            <td class="edit">
                <span class="editvalue">{{ row.hashtags }}</span>
                <input type="text" class="form-control textedit" value="{{ row.hashtags }}" id="hashtags_{{ row.id }}">
            </td>
            <td>
                <button type="button" class="btn btn-outline-danger" value="{{ row.id }}">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                    <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6Z"></path>
                    <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118ZM2.5 3h11V2h-11v1Z"></path>
                    </svg>
                </button>
            </td>
          </tr>
        {% endfor %}
    </tbody>
  </table>
{% endblock %}